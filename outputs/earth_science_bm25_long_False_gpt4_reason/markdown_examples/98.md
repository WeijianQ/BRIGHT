# Query `98`

## Original Question

*I need US monthly climate data for the years 1992-2012. It would be great to get down to a county level, but by state would be just fine. Every site that I go to inevitably kicks me to the NCDC, but I cannot make sense of their data.

For example: the .csv sample data for GHCN Monthly Summaries lists EMXT (extreme maximum temperature) for each month of 2010 in Petersburg, ND. July had an EMXT of 317. I've been through the documentation, but I can't figure out what that number is supposed to mean. I know it wasn't 317F or C in ND at any point. Did they add all the temps up? Was it around 10C every day of July 2010? But why would you do that? The .PDF data looks like actual temperatures, but I need a lot of data: .CSV is ideal; .PDF is really not useable for the amount of data I am going to manipulate.

What am I missing? Or is there another way to get this data?*

## gpt4 Reasoning

```markdown
The essential problem you're facing is understanding and accessing U.S. monthly climate data in a user-friendly format, particularly for the years 1992-2012, and ideally at a county or state level. Your specific confusion arises from the interpretation of the GHCN (Global Historical Climatology Network) Monthly Summaries data format, especially the meaning of temperature values like an EMXT (extreme maximum temperature) of 317 for July in Petersburg, ND, which doesn't immediately correspond to familiar temperature scales.

Let's break down the issues and potential solutions step by step:

### Understanding GHCN Data

1. **Temperature Units**: The GHCN data, particularly for temperatures, is often recorded in tenths of degrees Celsius to avoid decimals. This means that an EMXT of 317 would actually represent 31.7°C. To convert this to Fahrenheit, you would use the formula \(F = \frac{9}{5}C + 32\), resulting in approximately 89.06°F. This conversion process is necessary for interpreting the raw numbers correctly.

2. **Data Format and Accessibility**: You're looking for CSV files due to the volume of data you need to process, which is understandable given that PDFs are not practical for large-scale data manipulation. GHCN data is indeed vast and can be complex to navigate without specific guidance.

### Accessing and Utilizing the Data

1. **NCDC/NOAA Website Navigation**: It's true that navigating the National Climatic Data Center (now part of NOAA's National Centers for Environmental Information) can be challenging. However, they do offer a range of datasets in various formats, including CSV. When searching for historical data, you'll want to focus on the GHCN-Daily dataset for the most granular level of data, which includes state and sometimes county-level information.

2. **Understanding the Dataset Codes**: Each variable in the GHCN datasets, like EMXT, has specific meanings. Familiarizing yourself with these codes is crucial. The documentation provided with these datasets usually includes definitions and units for each variable. For extensive projects, spending time with the documentation, even though it can be dense, is necessary.

3. **Alternative Data Sources**: If the GHCN datasets and the NOAA website are too complex or not meeting your needs, there are other sources for climate data. The U.S. Environmental Protection Agency (EPA) and the United States Geological Survey (USGS) also provide access to climate and environmental data, which might be more user-friendly or suited to your needs. Additionally, academic institutions and private organizations often have climate data available, though the scope and accessibility can vary widely.

4. **Software and Tools**: For handling large datasets, consider using software designed for data analysis like R or Python's pandas library. Both have robust communities and extensive documentation that can help with importing, transforming, and analyzing climate data. There are also specific packages/libraries in these languages designed to work with climate data.

### Moving Forward

Given the scope of your project, here's a recommended approach:

- **Deep Dive into GHCN Documentation**: Spend more time with the GHCN documentation to understand the variables and units thoroughly.
- **Explore Alternative Sources**: Look into other governmental or academic sources for potentially more accessible data.
- **Leverage Software Tools**: If you're not already, use data analysis software to help manage and interpret the large volumes of data. Tutorials specific to climate data analysis are available online.
- **Community Resources**: Consider reaching out to online forums or communities focused on climate science or data analysis. These can be invaluable resources for specific questions or issues you encounter.

By breaking down the problem into these manageable steps and exploring each avenue, you should be able to access, understand, and manipulate the U.S. climate data you need for your project.
```

### Metrics

```
recip_rank: 1.0000
P_1: 1.0000
P_5: 0.8000
P_10: 0.4000
P_25: 0.1600
P_50: 0.1000
P_100: 0.0500
recall_1: 0.2000
recall_5: 0.8000
recall_10: 0.8000
recall_25: 0.8000
recall_50: 1.0000
recall_100: 1.0000
ndcg_cut_1: 1.0000
ndcg_cut_5: 0.8539
ndcg_cut_10: 0.8539
ndcg_cut_25: 0.8539
ndcg_cut_50: 0.9237
ndcg_cut_100: 0.9237
map_cut_1: 0.2000
map_cut_5: 0.7600
map_cut_10: 0.7600
map_cut_25: 0.7600
map_cut_50: 0.7957
map_cut_100: 0.7957
```

## Retrieval Results

### DOC[1] (GROUND TRUTH) ncdc_data/docu5.txt
> MXSD - Maximum snow depth reported during month. Values are given in mm or inches as per users<br>preference settings on metric or standard unit output. Values are given in inches on monthly form PDF<br>file. <br>TPCP - Total precipitation amount for the month. Values are given in mm (to tenths) or inches (to<br>hundredths) as per users preference settings on metric or standard unit output. Values are given in<br>inches on monthly form PDF file. <br>TSNW - Total snow fall amount for the month. Values are given in mm or inches as per users preference<br>settings on metric or standard unit output. Values are given in inches on monthly form PDF file. <br>Air Temperature (All units in Fahrenheit on PDF monthly form and either Fahrenheit or Celsius on CSV or<br>text output as per users preference settings on metric or standard unit output.)<br>EMNT - Extreme minimum temperature <br>EMXT - Extreme maximum temperature <br>MMNT - Monthly mean minimum temperature <br>MMXT - Monthly mean maximum temperature <br>MNTM – Monthly mean temperature <br>Concerning derivation: All observations/elements listed above are derived from another within the<br>GHCND dataset as follows (see GHCND documentation for further details):<br>= derived from TMAX and/or TMIN (daily maximum and minimum temperature)<br>=derived from PRCP (daily precipitation total)<br>=derived from SNOW (daily snowfall total)<br>Additional information on the GHCN-Daily data, from which the GHCN-Monthly data are derived, is

### DOC[2] (GROUND TRUTH) ncdc_data/docu2.txt
> II. Format/Observation Definitions<br>(Note: the term ‘element’ is used throughout this documentation and refers to an individual meteorological/climatological<br>measurement or statistical value such as temperature, precipitation (amount), etc.)<br>Users are given the choice between the following three delivery formats:<br>1) GHCN-Daily Monthly Summaries Form-Portable Document Format (PDF) output gives monthly<br>values for 18 elements (see Table A).<br>2) Custom GHCN-Daily Monthly Summaries ASCII Form-Output is ASCII text file and user is given<br>the choice whether to include flags (attributes), station name or geographic location in data<br>records. The user can define which of the observations (values) listed in Table A (below) to<br>include in data records.<br>3) Custom GHCN-Daily Monthly Summaries ASCII Spreadsheet-Options are same as #2 above but<br>output is given as CSV file for use in spreadsheet applications.<br>A. Data observations/values<br>Each record represents all selected observations (i.e. elements) available for a given station-month. The<br>initial section of each record is ordered as follows with the following definitions:<br>STATION (17 characters) is the station identification code. Please see<br>http://www1.ncdc.noaa.gov/pub/data/ghcn/daily/ghcnd-stations.txt<br>for a complete list of stations and their metadata.<br>STATION_NAME (max 50 characters) is the name of the station (usually city/airport name). This is an<br>optional output field.<br>GEOGRAPHIC_LOCATION (31 characters) is the latitude (decimated degrees w/northern hemisphere

### DOC[3] (GROUND TRUTH) ncdc_data/docu1.txt
> GHCND (Global Historical Climatology Network)-Monthly Summaries<br>NOTE: English units are displayed on pdf output format; Either Metric or standard English units on csv<br>or txt output formats depending on user specification.<br>I. Description<br>GHCND (Global Historical Climatology Network)-Monthly Summaries is a database that addresses the<br>critical need for historical monthly temperature, precipitation, and snow records over global land areas.<br>The values are derived from the GHCN-Daily database which is a composite of climate records from<br>numerous sources that were merged and then subjected to a suite of quality assurance reviews. The<br>GHCND-Monthly Summaries database includes 18 meteorological elements (see Table A below for<br>complete list) including temperature (monthly means and extremes), precipitation (monthly totals,<br>extremes and number of days various amount thresholds are met), snowfall, maximum snow depth, and<br>degree days.<br>The GHCND-Monthly Summaries database, like its daily counterpart from which it was derived, contains<br>observations of one or more of the above elements at more than 100,000 stations that are distributed<br>across all continents.<br>Some of the data provided here are based on data exchanged under the World Meteorological<br>Organization (WMO) World Weather Watch Program according to WMO Resolution 40 (Cg-XII). This<br>allows WMO member countries to place restrictions on the use or re-export of their data for commercial<br>purposes outside of the receiving country. Those countries' data summaries and products which are<br>available here are intended for free and unrestricted use in research, education, and other noncommercial activities. For non-U.S. locations data, the data or any derived product shall not be provided<br>to other users or be used for the re-export of commercial services.<br>II. Format/Observation Definitions

### DOC[4] (IRRELEVANT) VARIANT_IDs_in_CMIP6/modelers_html4.txt
> list of institutions is recorded in a CV for “institution_id”.<br>As indicated in the guidance specifications for output grids,<br>weights should be provided to regrid all output to a few standard grids (e.g.,<br>1x1 degree). All regridding information (weights, lats, lons, etc.) should be stored<br>consistent with a standard format approved by the WIP. Specifications for the required<br>standard format will be forthcoming.<br>CMIP6 output requirements that are critical for successful ingestion and access<br>via ESGF will be enforced when publication of the data is initiated. The success<br>of CMIP6 depends on making sure that even the requirements that can not be checked<br>by ESGF are met. This is the responsibility of anyone preparing model output for<br>CMIP6. A minimum set of requirements for publication of CMIP6 data will be met<br>if a dataset passes the checks performed by the PrePARE software package described<br>in the next section.<br>6. Software for preparing/checking output<br>To facilitate the production of model output files that meet the CMIP6 technical<br>standards, a software library called “CMOR” (Climate Model Output Rewriter) has<br>been developed and version 3 (CMOR3) is now available at this site,<br>but read the installation instructions available here. This package<br>was first used in CMIP3 and has been generalized and improved for each new CMIP<br>phase. Use of CMOR is not mandatory, but past experience suggests that many common<br>errors in model output files can be avoided by its use.<br>For those not using CMOR, some checks for compliance with CMIP specifications can<br>be performed using a new code developed in support of CMIP6: the Pre-Publication<br>Attribute Reviewer for ESGF (PrePARE). For information about tests<br>performed by PrePARE, view the design requirements. PrePARE is included as part<br>of the CMOR software suite and all files produced by CMOR are effectively checked<br>by PrePARE, but PrePARE can be invoked without using CMOR to write the output.<br>In addition to PrePARE, tests for file compliance with the CF-conventions<br>can be made using a tool called the CF-checker. Both PrePARE<br>and the CF-checker will be run as part of the ESGF publication job stream, and<br>only files passing all tests will be published and made available for download.<br>It should be noted if data are written using CMOR, additional checks will be performed<br>that will, for example:<br><br>Guarantee that the metadata associated with each variable is recorded in the<br> file (PrePARE only checks some of the variable attributes)<br>Check for monotonicity of a coordinate values<br>Check for “gaps” in the time coordinates<br>Check that coordinates are stored in the right direction (and for the longitude<br>coordinate check that the range is correct)<br>Check that data values are within limits specified in the cmor tables (but for<br> most variables, this won’t happen since limits are yet to be defined)<br><br>Additional codes useful in preparing model output for CMIP6 include:<br><br>Code to create regridding weights: not yet available<br><br>Code to calculate nominal_resolution: For the common case of a regular spherical coordinate<br>(latitude x longitude) global grid, the nominal_resolution can be calculated using a formula<br>given in Appendix 2 of the CMIP6 netCDF global attributes document.<br>For other grids, the nominal_resolution can be calculated with the following code:<br><br>Code documentation: https://pcmdi.github.io/nominal_resolution/html/index.html.<br>The code can be obtained via a conda package: conda install -c pcmdi nominal_resolution<br>The package repository is hosted on Github at: https://github.com/pcmdi/nominal_resolution<br><br>The library source (api.py) is in the lib directory.<br>The test codes reside in the tests directory.<br><br><br><br><br><br>7. Archiving/publishing output<br>The Earth System Grid Federation (ESGF) will facilitate the global<br>distribution of CMIP6 output.<br>For CMIP6, the original copies of data will be availble through the data nodes, many of which will be installed and maintained by the modeling centers themselves. Certain ESGF data nodes (known as “Tier<br>1 nodes”) will serve as the primary access points to the data. A searchable record of model output: the access method and metadata,<br>will be “published” to these nodes, and additionally, replicas of the data will be hosted on these nodes.<br>As part of “publication”, certain conformance checks are performed,<br>metadata are recorded in a catalog where it can be accessed by the other data nodes,<br>and versioning is managed. The data provider (modeling center) will need to closely<br>coordinate and cooperate with the ESGF data manager(s) of a specific ESGF data<br>node site. Here is a summary of the main steps and requirements in the procedure:<br><br>CMIP6 data compliance checking: Before data are passed to the data node for<br> publication, modeling centers should check that it is in conformance with all<br> the output requirements outlined in the sections above<br>Selection of an ESGF data node: Modeling centers can either set up and host<br> their own ESGF data node or engage with an existing ESGF node. In either case<br> certain rules must be followed as outlined in the “ESGF Data Node Managers and Operators”<br> guide. If the node hosting the data has not been designated “Tier 1”, then one<br> of the Tier 1 nodes will have to be selected to serve as the publication site.<br> Improperly configured data nodes will not be accessible through the federated<br> ESGF system<br>Data transfer and ESGF data management: In addition to putting in place a<br> procedure for smoothly transferring and publishing CMIP6 data, a clearly defined<br> process for handling corrections to flawed data should be established. This would<br> include a formal procedure for recording “errata” information in the case of correction<br> and replacement of erroneous data<br>Data publication: The ESGF data node managers are responsible for ESGF data<br> publication and storage as described more completely in the “ESGF Data Node Managers and Operators”<br> guide. Publication of data not meeting the minimal CMIP6 data quality requirements<br> will be blocked<br>Data replication: Some of the Tier 1 nodes plan to replicate some of the<br> data published by other nodes. This will provide some redundancy across the federation<br> protecting against loss of at least some of the data in the event of a catastrophic<br> storage failure at one node. It will also provide a backup source of data when<br> one node is temporarily offline. Not all data will be replicated, so it is recommended<br> that modeling groups retain a backup copy of their model output<br>Data access: After data publication the CMIP6 data (as well as associated<br> errata information, documentation and citation information) will be visible and<br> accessible via the following designated CMIP6 data portals: PCMDI,<br> DKRZ, IPSL, CEDA, and others<br>Data long-term archival: A “snapshot” of CMIP6 data as it exists at the time<br> of a deadline imposed by the IPCC’s 6th Assessment Report (IPCC-AR6) will be archived<br> at the IPCC Data Distribution Centre (IPCC DDC, http://ipcc-data.org)<br><br>8. Documentation process<br>Given the wide variety of users and the need for traceability, the CMIP6 results<br>will be fully documented and made accessible via the ES-DOC viewer and comparator

### DOC[5] (GROUND TRUTH) ncdc_data/docu4.txt
> the Custom GHCN-Daily Monthly Summaries ASCII Form and all are also included on the GHCN-Daily<br>Monthly Summaries Form-Portable Document Format (PDF).<br>Note: 9’s in a field (e.g.9999) indicate missing data or data that has not been received.<br>Computed<br>CLDD - Cooling degree days. These are using a 65 degree Fahrenheit base and given as a monthly total.<br>Values are given in whole degrees Fahrenheit or tenths of degrees Celsius as per users preference<br>settings on standard or metric unit output. Values are given in Fahrenheit on monthly form PDF file.<br>DP10 - Number of days in month with greater than or equal to 1.0 inch of precipitation <br>DP05 - Number of days in month with greater than or equal to 0.5 inch of precipitation <br>DP01 - Number of days in month with greater than or equal to 0.1 inch of precipitation <br>HTDD - Heating degree days. These use a 65 degree Fahrenheit base and are given as a monthly total.<br>Values are given in whole degrees Fahrenheit or tenths of degrees Celsius as per users preference<br>settings on standard or metric unit output. Values are given in Fahrenheit on monthly form PDF file.<br>DT00 - Number days in month with minimum temperature less than or equal to 0.0 F <br>DT32 - Number days in month with minimum temperature less than or equal to 32.0 F <br>DT90 - Number days in month with maximum temperature greater than or equal 90.0 F <br>DX32 - Number days in month with maximum temperature less than or equal to 32.0 F <br>Precipitation<br>EMXP - Extreme maximum daily precipitation total within month. Values are given in mm (to tenths) or<br>inches (to hundredths) as per users preference settings on metric or standard unit output. Values are<br>given in inches on monthly form PDF file.


## Ground Truth

### GROUND TRUTH 0, ranked 4, ncdc_data/docu4.txt
> the Custom GHCN-Daily Monthly Summaries ASCII Form and all are also included on the GHCN-Daily<br>Monthly Summaries Form-Portable Document Format (PDF).<br>Note: 9’s in a field (e.g.9999) indicate missing data or data that has not been received.<br>Computed<br>CLDD - Cooling degree days. These are using a 65 degree Fahrenheit base and given as a monthly total.<br>Values are given in whole degrees Fahrenheit or tenths of degrees Celsius as per users preference<br>settings on standard or metric unit output. Values are given in Fahrenheit on monthly form PDF file.<br>DP10 - Number of days in month with greater than or equal to 1.0 inch of precipitation <br>DP05 - Number of days in month with greater than or equal to 0.5 inch of precipitation <br>DP01 - Number of days in month with greater than or equal to 0.1 inch of precipitation <br>HTDD - Heating degree days. These use a 65 degree Fahrenheit base and are given as a monthly total.<br>Values are given in whole degrees Fahrenheit or tenths of degrees Celsius as per users preference<br>settings on standard or metric unit output. Values are given in Fahrenheit on monthly form PDF file.<br>DT00 - Number days in month with minimum temperature less than or equal to 0.0 F <br>DT32 - Number days in month with minimum temperature less than or equal to 32.0 F <br>DT90 - Number days in month with maximum temperature greater than or equal 90.0 F <br>DX32 - Number days in month with maximum temperature less than or equal to 32.0 F <br>Precipitation<br>EMXP - Extreme maximum daily precipitation total within month. Values are given in mm (to tenths) or<br>inches (to hundredths) as per users preference settings on metric or standard unit output. Values are<br>given in inches on monthly form PDF file.

### GROUND TRUTH 1, ranked 0, ncdc_data/docu5.txt
> MXSD - Maximum snow depth reported during month. Values are given in mm or inches as per users<br>preference settings on metric or standard unit output. Values are given in inches on monthly form PDF<br>file. <br>TPCP - Total precipitation amount for the month. Values are given in mm (to tenths) or inches (to<br>hundredths) as per users preference settings on metric or standard unit output. Values are given in<br>inches on monthly form PDF file. <br>TSNW - Total snow fall amount for the month. Values are given in mm or inches as per users preference<br>settings on metric or standard unit output. Values are given in inches on monthly form PDF file. <br>Air Temperature (All units in Fahrenheit on PDF monthly form and either Fahrenheit or Celsius on CSV or<br>text output as per users preference settings on metric or standard unit output.)<br>EMNT - Extreme minimum temperature <br>EMXT - Extreme maximum temperature <br>MMNT - Monthly mean minimum temperature <br>MMXT - Monthly mean maximum temperature <br>MNTM – Monthly mean temperature <br>Concerning derivation: All observations/elements listed above are derived from another within the<br>GHCND dataset as follows (see GHCND documentation for further details):<br>= derived from TMAX and/or TMIN (daily maximum and minimum temperature)<br>=derived from PRCP (daily precipitation total)<br>=derived from SNOW (daily snowfall total)<br>Additional information on the GHCN-Daily data, from which the GHCN-Monthly data are derived, is

### GROUND TRUTH 2, ranked 1, ncdc_data/docu2.txt
> II. Format/Observation Definitions<br>(Note: the term ‘element’ is used throughout this documentation and refers to an individual meteorological/climatological<br>measurement or statistical value such as temperature, precipitation (amount), etc.)<br>Users are given the choice between the following three delivery formats:<br>1) GHCN-Daily Monthly Summaries Form-Portable Document Format (PDF) output gives monthly<br>values for 18 elements (see Table A).<br>2) Custom GHCN-Daily Monthly Summaries ASCII Form-Output is ASCII text file and user is given<br>the choice whether to include flags (attributes), station name or geographic location in data<br>records. The user can define which of the observations (values) listed in Table A (below) to<br>include in data records.<br>3) Custom GHCN-Daily Monthly Summaries ASCII Spreadsheet-Options are same as #2 above but<br>output is given as CSV file for use in spreadsheet applications.<br>A. Data observations/values<br>Each record represents all selected observations (i.e. elements) available for a given station-month. The<br>initial section of each record is ordered as follows with the following definitions:<br>STATION (17 characters) is the station identification code. Please see<br>http://www1.ncdc.noaa.gov/pub/data/ghcn/daily/ghcnd-stations.txt<br>for a complete list of stations and their metadata.<br>STATION_NAME (max 50 characters) is the name of the station (usually city/airport name). This is an<br>optional output field.<br>GEOGRAPHIC_LOCATION (31 characters) is the latitude (decimated degrees w/northern hemisphere

### GROUND TRUTH 3, ranked 2, ncdc_data/docu1.txt
> GHCND (Global Historical Climatology Network)-Monthly Summaries<br>NOTE: English units are displayed on pdf output format; Either Metric or standard English units on csv<br>or txt output formats depending on user specification.<br>I. Description<br>GHCND (Global Historical Climatology Network)-Monthly Summaries is a database that addresses the<br>critical need for historical monthly temperature, precipitation, and snow records over global land areas.<br>The values are derived from the GHCN-Daily database which is a composite of climate records from<br>numerous sources that were merged and then subjected to a suite of quality assurance reviews. The<br>GHCND-Monthly Summaries database includes 18 meteorological elements (see Table A below for<br>complete list) including temperature (monthly means and extremes), precipitation (monthly totals,<br>extremes and number of days various amount thresholds are met), snowfall, maximum snow depth, and<br>degree days.<br>The GHCND-Monthly Summaries database, like its daily counterpart from which it was derived, contains<br>observations of one or more of the above elements at more than 100,000 stations that are distributed<br>across all continents.<br>Some of the data provided here are based on data exchanged under the World Meteorological<br>Organization (WMO) World Weather Watch Program according to WMO Resolution 40 (Cg-XII). This<br>allows WMO member countries to place restrictions on the use or re-export of their data for commercial<br>purposes outside of the receiving country. Those countries' data summaries and products which are<br>available here are intended for free and unrestricted use in research, education, and other noncommercial activities. For non-U.S. locations data, the data or any derived product shall not be provided<br>to other users or be used for the re-export of commercial services.<br>II. Format/Observation Definitions

### GROUND TRUTH 4, ranked 27, ncdc_data/docu3.txt
> values  0, southern hemisphere values < 0), longitude (decimated degrees w/western hemisphere<br>values < 0, eastern hemisphere values  0) and elevation above mean sea level (thousandths of meters).<br>This is an optional output field.<br>DATE is the year of the record (4 digits) followed by month (2 digits) and day (2 digits). For these<br>monthly files, all days will be encoded as “01”.<br>B. Observations (values) and flags (attributes)<br>Following this initial section of the record, all selected observations and flags are given in the following<br>order:<br>Observation(s) | Missing Flag | Consecutive Missing Flag | repeat for next observation/element (when<br>more than one element is selected), where:<br>Observation(s) is/are synonymous with elements or values, and defined in Table A below. 9’s in a field<br>(e.g.9999) indicate missing data or data that has not been received.<br>Missing Flag is defined as total number of days observation/element is missing in that month. This can<br>be taken as a measure of quality or completeness as the higher the number of days sampled in the<br>month, the more representative the value is for the entire month.<br>Consecutive Missing Flag is defined as the maximum number of consecutive days in the month that an<br>observation/element is missing.<br>Note: The 2 flags listed above are optional on the Custom GHCN-Daily Monthly Summaries ASCII Form<br>and ASCII spreadsheet.<br>Table A (observations or values)<br>All 18 observation/element values are defined below. Each of these may be included (or excluded) on
