# Query `20`

## Original Question

*You are given an array of people, `people`, which are the attributes of some people in a queue (not necessarily in order). Each `people[i] = [hi, ki]` represents the `ith` person of height `hi` with exactly `ki` other people in front who have a height greater than or equal to `hi`.

Reconstruct and return _the queue that is represented by the input array_ `people`. The returned queue should be formatted as an array `queue`, where `queue[j] = [hj, kj]` is the attributes of the `jth` person in the queue (`queue[0]` is the person at the front of the queue).

Example 1:

Input: people = \[\[7,0\],\[4,4\],\[7,1\],\[5,0\],\[6,1\],\[5,2\]\]
Output: \[\[5,0\],\[7,0\],\[5,2\],\[6,1\],\[4,4\],\[7,1\]\]
Explanation:
Person 0 has height 5 with no other people taller or the same height in front.
Person 1 has height 7 with no other people taller or the same height in front.
Person 2 has height 5 with two persons taller or the same height in front, which is person 0 and 1.
Person 3 has height 6 with one person taller or the same height in front, which is person 1.
Person 4 has height 4 with four people taller or the same height in front, which are people 0, 1, 2, and 3.
Person 5 has height 7 with one person taller or the same height in front, which is person 1.
Hence \[\[5,0\],\[7,0\],\[5,2\],\[6,1\],\[4,4\],\[7,1\]\] is the reconstructed queue.

Example 2:

Input: people = \[\[6,0\],\[5,0\],\[4,0\],\[3,2\],\[2,2\],\[1,4\]\]
Output: \[\[4,0\],\[5,0\],\[2,2\],\[3,2\],\[1,4\],\[6,0\]\]

Constraints:

   `1 <= people.length <= 2000`
   `0 <= hi <= 106`
   `0 <= ki < people.length`
   It is guaranteed that the queue can be reconstructed.*

## gpt4 Reasoning

```markdown
The essential problem here is to reconstruct a queue of people based on their heights and the number of people taller or equal in height in front of them. The challenge arises from the fact that the input array is not necessarily ordered in any helpful way, requiring us to figure out how to position each person correctly based on the constraints given by each `[hi, ki]` pair.

### Step-by-Step Solution:

1. **Sort the Input Array:** The first step towards solving this problem is to sort the array `people`. However, the sorting needs to be done carefully to facilitate the reconstruction of the queue. We sort the people primarily by their heights in descending order because it's easier to place the tallest people first without worrying about the taller people who should come in front of them (since, by placing the tallest first, we ensure there are no taller people ahead). If two people have the same height, we sort them by `ki` in ascending order. This ensures that among people of the same height, those who require fewer people in front of them are considered first.

2. **Initialize an Empty Queue:** We start with an empty queue (or list) that will eventually be filled with people arranged according to the rules.

3. **Place Each Person in the Queue:** Once sorted, we iterate through the array `people`. For each person `[hi, ki]`, we place them in the `ki`th index of the queue. Because we're placing taller or equally tall people first, inserting a person into the `ki`th index guarantees that there are exactly `ki` people in front who are taller or of the same height. This operation might involve shifting people who have already been placed if they are shorter.

### Implementation Details:

- **Sorting the Array:** `people.sort(key=lambda x: (-x[0], x[1]))` sorts the people by height in descending order, and by `ki` in ascending order for people of the same height.
- **Placing People in the Queue:** Since inserting into a list (or array) at an arbitrary position can be inefficient due to the need to shift elements, it's important to choose a data structure that minimizes the overhead. However, for simplicity and given the constraints, a list suffices. We iterate through the sorted `people` list and insert each person at the index specified by their `ki` value.

### Example Illustration:

Given `people = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]`, after sorting, we have `[[7,0],[7,1],[6,1],[5,0],[5,2],[4,4]]`.

- Start with an empty queue: `[]`.
- Insert `[7,0]`: `[[7,0]]`.
- Insert `[7,1]`: `[[7,0],[7,1]]`.
- Insert `[6,1]`: `[[7,0],[6,1],[7,1]]`.
- Insert `[5,0]`: `[[5,0],[7,0],[6,1],[7,1]]`.
- Continue with the rest: `[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]`.

### Conclusion:

By following these steps, we can reconstruct the queue as required. The key insight is sorting the `people` array in a way that allows us to place each person directly at their correct position in the queue, respecting the constraints given by their `ki` values. This method ensures that the reconstructed queue satisfies the conditions specified in the problem statement.
```

### Metrics

```
recip_rank: 0.0025
P_1: 0.0000
P_5: 0.0000
P_10: 0.0000
P_25: 0.0000
P_50: 0.0000
P_100: 0.0000
recall_1: 0.0000
recall_5: 0.0000
recall_10: 0.0000
recall_25: 0.0000
recall_50: 0.0000
recall_100: 0.0000
ndcg_cut_1: 0.0000
ndcg_cut_5: 0.0000
ndcg_cut_10: 0.0000
ndcg_cut_25: 0.0000
ndcg_cut_50: 0.0000
ndcg_cut_100: 0.0000
map_cut_1: 0.0000
map_cut_5: 0.0000
map_cut_10: 0.0000
map_cut_25: 0.0000
map_cut_50: 0.0000
map_cut_100: 0.0000
```

## Retrieval Results

### DOC[1] (IRRELEVANT) leetcode/csn_python_train_315679.txt
> def check_atd(text):<br>    """Check for redundancies from After the Deadline."""<br>    err = "after_the_deadline.redundancy"<br>    msg = "Redundancy. Use '{}' instead of '{}'."<br><br>    redundancies = [<br>        [u"B≈ç",               ["Bo Staff"]],<br>        ["Challah",           ["Challah bread"]],<br>        ["Hallah",            ["Hallah bread"]],<br>        ["Challah",           ["Challah bread"]],<br>        ["I",                 ["I myself", "I personally"]],<br>        ["Mount Fuji",        ["Mount Fujiyama"]],<br>        ["Milky Way",         ["Milky Way galaxy"]],<br>        ["Rio Grande",        ["Rio Grande river"]],<br>        ["adage",             ["old adage"]],<br>        ["add",               ["add a further", "add an additional"]],<br>        ["advance",           ["advance forward"]],<br>        ["alternative",       ["alternative choice"]],<br>        ["amaretto",          ["amaretto almond"]],<br>        ["annihilate",        ["completely annihilate"]],<br>        ["anniversary",       ["annual anniversary"]],<br>        ["anonymous",         ["unnamed anonymous"]],<br>        ["as",                ["equally as"]],<br>        ["ascend",            ["ascend up"]],<br>        ["ask",               ["ask the question"]],<br>        ["assemble",          ["assemble together"]],<br>        ["at present the",    ["at the present time the"]],<br>        ["at this point",     ["at this point in time"]],<br>        ["attach",            ["attach together"]],<br>        ["autumn",            ["autumn season"]],<br>        ["bald",              ["bald-headed"]],<br>        ["balsa",             ["balsa wood"]],<br>        ["belongings",        ["personal belongings"]],<br>        ["benefits",          ["desirable benefits"]],<br>        ["bento",             ["bento box"]],<br>        ["best",              ["best ever"]],<br>        ["bit",               ["tiny bit"]],<br>        ["blend",             ["blend together"]],<br>        ["bond",              ["common bond"]],<br>        ["bonus",             ["added bonus", "extra bonus"]],<br>        ["bouquet",           ["bouquet of flowers"]],<br>        ["breakthrough",      ["major breakthrough"]],<br>        ["bride",             ["new bride"]],<br>        ["brief",             ["brief in duration"]],<br>        ["bruin",             ["bruin bear"]],<br>        ["hot",               ["burning hot"]],<br>        ["cacophony",         ["cacophony of sound"]],<br>        ["cameo",             ["brief cameo", "cameo appearance"]],<br>        ["cancel",            ["cancel out"]],<br>        ["cash",              ["cash money"]],<br>        ["chai",              ["chai tea"]],<br>        ["chance",            ["random chance"]],<br>        ["charm",             ["personal charm"]],<br>        ["circle",            ["circle around", "round circle"]],<br>        ["circulate",         ["circulate around"]],<br>        ["classify",          ["classify into groups"]],<br>        ["classmates",        ["fellow classmates"]],<br>        ["cliche",            ["old cliche", "overused cliche"]],<br>        ["climb",             ["climb up"]],<br>        ["clock",             ["time clock"]],<br>        ["collaborate",       ["collaborate together"]],<br>        ["collaboration",     ["joint collaboration"]],<br>        ["colleague",         ["fellow colleague"]],<br>        ["combine",           ["combine together"]],<br>        ["commute",           ["commute back and forth"]],<br>        ["compete",           ["compete with each other"]],<br>        ["comprise",          ["comprise of"]],<br>        ["comprises",         ["comprises of"]],<br>        ["conceived",         ["first conceived"]],<br>        ["conclusion",        ["final conclusion"]],<br>        ["confer",            ["confer together"]],<br>        ["confrontation",     ["direct confrontation"]],<br>        # ["confused",          ["confused state"]],<br>        ["connect",           ["connect together", "connect up"]],<br>        ["consensus",         ["consensus of opinion", "general consensus"]],<br>        ["consult",           ["consult with"]],<br>        ["conversation",      ["oral conversation"]],<br>        ["cool",              ["cool down"]],<br>        ["cooperate",         ["cooperate together"]],<br>        ["cooperation",       ["mutual cooperation"]],<br>        ["copy",              ["duplicate copy"]],<br>        ["core",              ["inner core"]],<br>        ["cost",              ["cost the sum of"]],<br>        ["could",             ["could possibly"]],<br>        ["coupon",            ["money-saving coupon"]],<br>        ["created",           ["originally created"]],<br>        ["crisis",            ["crisis situation"]],<br>        ["crouch",            ["crouch down"]],<br>        ["currently",         ["now currently"]],<br>        ["custom",            ["old custom", "usual custom"]],<br>        ["danger",            ["serious danger"]],<br>        ["dates",             ["dates back"]],<br>        ["decision",          ["definite decision"]],<br>        ["depreciate",        ["depreciate in value"]],<br>        ["descend",           ["descend down"]],<br>        ["destroy",           ["totally destroy"]],<br>        ["destroyed",         ["completely destroyed"]],<br>        ["destruction",       ["total destruction"]],<br>        ["details",           ["specific details"]],<br>        ["dilemma",           ["difficult dilemma"]],<br>        ["disappear",         ["disappear from sight"]],<br>        ["discovered",        ["originally discovered"]],<br>        ["dive",              ["dive down"]],<br>        ["done",              ["over and done with"]],<br>        ["drawing",           ["illustrated drawing"]],<br>        ["drop",              ["drop down"]],<br>        ["dune",              ["sand dune"]],<br>        ["during",            ["during the course of"]],<br>        ["dwindle",           ["dwindle down"]],<br>        ["dwindled",          ["dwindled down"]],<br>        ["every",             ["each and every"]],<br>        ["earlier",           ["earlier in time"]],<br>        ["eliminate",         ["completely eliminate", "eliminate altogether",<br>                               "entirely eliminate"]],<br>        ["ember",             ["glowing ember"]],<br>        ["embers",            ["burning embers"]],<br>        ["emergency",         ["emergency situation", "unexpected emergency"]],<br>        ["empty",             ["empty out"]],<br>        ["enclosed",          ["enclosed herein"]],<br>        ["end",               ["final end"]],<br>        ["engulfed",          ["completely engulfed"]],<br>        ["enter",             ["enter in", "enter into"]],<br>        ["equal",             ["equal to one another"]],<br>        ["eradicate",         ["eradicate completely"]],<br>        ["essential",         ["absolutely essential"]],<br>        ["estimated at",      ["estimated at about",<br>                               "estimated at approximately",<br>                               "estimated at around"]],<br>        ["etc.",              ["and etc."]],<br>        ["evolve",            ["evolve over time"]],<br>        ["exaggerate",        ["over exaggerate"]],<br>        ["exited",            ["exited from"]],<br>        ["experience",        ["actual experience", "past experience"]],<br>        ["experts",           ["knowledgeable experts"]],<br>        ["extradite",         ["extradite back"]],<br>        ["face the consequences", ["face up to the consequences"]],<br>        ["face the fact",     ["face up to the fact"]],<br>        ["face the challenge", ["face up to the challenge"]],<br>        ["face the problem",  ["face up to the problem"]],<br>        ["facilitate",        ["facilitate easier"]],<br>        ["fact",              ["established fact"]],<br>        ["facts",             ["actual facts", "hard facts", "true facts"]],<br>        ["fad",               ["passing fad"]],<br>        ["fall",              ["fall down"]],<br>        ["fall",              ["fall season"]],<br>        ["feat",              ["major feat"]],<br>        ["feel",              ["feel inside"]],<br>        ["feelings",          ["inner feelings"]],<br>        ["few",               ["few in number"]],<br>        ["filled",            ["completely filled", "filled to capacity"]],<br>        ["first",             ["first of all"]],<br>        ["first time",        ["first time ever"]],<br>        ["fist",              ["closed fist"]],<br>        ["fly",               ["fly through the air"]],<br>        ["focus",             ["focus in", "main focus"]],<br>        ["follow",            ["follow after"]],<br>        ["for example",       ["as for example"]],<br>        # ["foremost",          ["first and foremost"]],<br>        ["forever",           ["forever and ever"]],<br>        ["free",              ["for free"]],<br>        ["friend",            ["personal friend"]],<br>        ["friendship",        ["personal friendship"]],<br>        ["full",              ["full to capacity"]],<br>        ["fundamentals",      ["basic fundamentals"]],<br>        ["fuse",              ["fuse together"]],<br>        ["gather",            ["gather together", "gather up"]],<br>        ["get up",            ["get up on his feet", "get up on your feet"]],<br>        ["gift",              ["free gift"]],<br>        ["gifts",             ["free gifts"]],<br>        ["goal",              ["ultimate goal"]],<br>        # ["graduate",          ["former graduate"]],<br>        ["grow",              ["grow in size"]],<br>        ["guarantee",         ["absolute guarantee"]],<br>        ["gunman",            ["armed gunman"]],<br>        ["gunmen",            ["armed gunmen"]],<br>        ["habitat",           ["native habitat"]],<br>        ["had done",          ["had done previously"]],<br>        ["halves",            ["two equal halves"]],<br>        # ["has",               ["has got"]],<br>        # ["have",              ["have got"]],<br>        ["haven",             ["safe haven"]],<br>        # ["he",                ["he himself"]],<br>        ["heat",              ["heat up"]],<br>        ["history",           ["past history"]],<br>        ["hoist",             ["hoist up"]],<br>        ["hole",              ["empty hole"]],<br>        ["honcho",            ["head honcho"]],<br>        ["ice",               ["frozen ice"]],<br>        ["ideal",             ["perfect ideal"]],<br>        ["identical",         ["same identical"]],<br>        ["identification",    ["positive identification"]],<br>        ["imports",           ["foreign imports"]],<br>        ["impulse",           ["sudden impulse"]],<br>        ["in fact",           ["in actual fact"]],<br>        ["in the yard",       ["outside in the yard"]],<br>        ["inclusive",         ["all inclusive"]],<br>        ["incredible",        ["incredible to believe"]],<br>        ["incumbent",         ["present incumbent"]],<br>        # ["indicted",          ["indicted on a charge"]],<br>        ["industry",          ["private industry"]],<br>        ["injuries",          ["harmful injuries"]],<br>        ["innovation",        ["new innovation"]],<br>        ["innovative",        ["innovative new", "new innovative"]],<br>        # ["input",             ["input into"]],<br>        ["instinct",          ["natural instinct", "naturally instinct"]],<br>        ["integrate",         ["integrate together",<br>                               "integrate with each other"]],<br>        ["interdependent",    ["interdependent on each other",<br>                               "mutually interdependent"]],<br>        ["introduced",        ["introduced for the first time"]],<br>        ["invention",         ["new invention"]],<br>        ["kneel",             ["kneel down"]],<br>        ["knots",             ["knots per hour"]],<br>        # ["last",              ["last of all"]],<br>        # ["later",             ["later time"]],<br>        ["lift",              ["lift up"]],<br>        ["lingers",           ["still lingers"]],<br>        ["look to the future", ["look ahead to the future"]],<br>        ["love triangle",     ["three-way love triangle"]],<br>        ["maintained",        ["constantly maintained"]],<br>        ["manually",          ["manually by hand"]],<br>        ["marina",            ["boat marina"]],<br>        ["may",               ["may possibly"]],<br>        ["meet",              ["meet together", "meet with each other"]],<br>        ["memories",          ["past memories"]],<br>        ["merge",             ["merge together"]],<br>        ["merged",            ["merged together"]],<br>        ["meshed",            ["meshed together"]],<br>        ["midnight",          ["twelve midnight"]],<br>        ["migraine",          ["migraine headache"]],<br>        ["minestrone",        ["minestrone soup"]],<br>        ["mix",               ["mix together"]],<br>        ["moment",            ["brief moment", "moment in time"]],<br>        ["monopoly",          ["complete monopoly"]],<br>        ["mural",             ["wall mural"]],<br>        ["mutual respect",    ["mutual respect for each other"]],<br>        ["mutually dependent", ["mutually dependent on each other"]],<br>        ["mystery",           ["unsolved mystery"]],<br>        # ["naked",             ["bare naked"]],<br>        ["nape",              ["nape of her neck"]],<br>        ["necessary",         ["absolutely necessary"]],<br>        ["never",             ["never at any time"]],<br>        ["noon",              ["12 noon", "12 o'clock noon", "high noon",<br>                               "twelve noon"]],<br>        ["nostalgia",         ["nostalgia for the past"]],<br>        ["number of",         ["number of different"]],<br>        ["opening",           ["exposed opening"]],<br>        ["my opinion",        ["my personal opinion"]],<br>        ["opposites",         ["exact opposites", "polar opposites"]],<br>        ["opposite",          ["exact opposite", "polar opposite"]],<br>        ["orbits",            ["orbits around"]],<br>        ["outcome",           ["final outcome"]],<br>        ["panacea",           ["universal panacea"]],<br>        ["pending",           ["now pending"]],<br>        ["penetrate",         ["penetrate through"]],<br>        ["persists",          ["still persists"]],<br>        ["pioneer",           ["old pioneer"]],<br>        ["plan",              ["plan ahead", "plan in advance",<br>                               "proposed plan"]],<br>        ["planning",          ["advance planning", "forward planning"]],<br>        ["plans",             ["future plans"]],<br>        ["plan",              ["future plan"]],<br>        ["point",             ["point in time"]],<br>        ["point",             ["sharp point"]],<br>        ["postpone",          ["postpone until later"]],<br>        ["pouring rain",      ["pouring down rain"]],<br>        ["preview",           ["advance preview"]],<br>        ["previously listed", ["previously listed above"]],<br>        ["probed",            ["probed into"]],<br>        ["proceed",           ["proceed ahead"]],<br>        ["prosthesis",        ["artificial prosthesis"]],<br>        # ["protrude",          ["protrude out"]],<br>        ["proverb",           ["old proverb"]],<br>        # ["proximity",         ["close proximity"]],<br>        ["put off",           ["put off until later"]],<br>        # ["raise",             ["raise up"]],<br>        ["re-elect",          ["re-elect for another term"]],<br>        ["reason is",         ["reason is because"]],<br>        ["recur",             ["recur again"]],<br>        ["recurrence",        ["future recurrence"]],<br>        ["refer",             ["refer back"]],<br>        ["reflect",           ["reflect back"]],<br>        # ["relevant",          ["highly relevant"]],<br>        ["remain",            ["continue to remain"]],<br>        ["remains",           ["still remains"]],<br>        ["replica",           ["exact replica"]],<br>        ["reply",             ["reply back"]],<br>        # ["requirements",      ["necessary requirements"]],<br>        ["reservations",      ["advance reservations"]],<br>        ["retreat",           ["retreat back"]],<br>        ["revert",            ["revert back"]],<br>        ["round",             ["round in shape"]],<br>        ["rule of thumb",     ["rough rule of thumb"]],<br>        ["rumor",             ["unconfirmed rumor"]],<br>        ["rustic",            ["rustic country"]],<br>        ["same",              ["exact same", "precise same", "same exact"]],<br>        ["sanctuary",         ["safe sanctuary"]],<br>        ["satisfaction",      ["full satisfaction"]],<br>        ["scrutinize",        ["scrutinize in detail"]],<br>        ["scrutiny",          ["careful scrutiny", "close scrutiny"]],<br>        ["secret",            ["secret that cannot be told"]],<br>        ["seek",              ["seek to find"]],<br>        ["separated",         ["separated apart from each other"]],<br>        ["share",             ["share together"]],<br>        ["shiny",             ["shiny in appearance"]],<br>        ["sincere",           ["truly sincere"]],<br>        ["sink",              ["sink down"]],<br>        ["skipped",           ["skipped over"]],<br>        # ["slow",              ["slow speed"]],<br>        # ["small",             ["small size"]],<br>        ["soft",              ["soft in texture", "soft to the touch"]],<br>        ["sole",              ["sole of the foot"]],<br>        ["some time",         ["some time to come"]],<br>        ["speck",             ["small speck"]],<br>        ["speed",             ["rate of speed"]],<br>        ["spell out",         ["spell out in detail"]],<br>        ["spiked",            ["spiked upward", "spiked upwards"]],<br>        ["spring",            ["spring season"]],<br>        ["stranger",          ["anonymous stranger"]],<br>        ["studio audience",   ["live studio audience"]],<br>        ["subway",            ["underground subway"]],<br>        ["sufficient",        ["sufficient enough"]],<br>        ["summer",            ["summer season"]],<br>        ["sure",              ["absolutely sure"]],<br>        ["surprise",          ["unexpected surprise"]],<br>        ["surround",          ["completely surround"]],<br>        ["surrounded",        ["surrounded on all sides"]],<br>        ["tall",              ["tall in height", "tall in stature"]],<br>        ["telepathy",         ["mental telepathy"]],<br>        ["ten",               ["ten in number"]],<br>        ["these",             ["these ones"]],<br>        # ["they",              ["they themselves"]],<br>        ["those",             ["those ones"]],<br>        ["trench",            ["open trench"]],<br>        ["truth",             ["honest truth"]],<br>        ["tundra",            ["frozen tundra"]],<br>        ["ultimatum",         ["final ultimatum"]],<br>        # ["undeniable",        ["undeniable truth"]],<br>        ["undergraduate",     ["undergraduate student"]],<br>        # ["unintentional",     ["unintentional mistake"]],<br>        ["vacillate",         ["vacillate back and forth"]],<br>        ["veteran",           ["former veteran"]],<br>        ["visible",           ["visible to the eye"]],<br>        ["warn",              ["warn in advance"]],<br>        ["warning",           ["advance warning"]],<br>        ["water heater",      ["hot water heater"]],<br>        ["in which we live",  ["in which we live in"]],<br>        ["winter",            ["winter season"]],<br>        ["witness",           ["live witness"]],<br>        ["yakitori",          ["yakitori chicken"]],<br>        ["yerba mate",        ["yerba mate tea"]],<br>        ["yes",               ["affirmative yes"]],<br>    ]<br><br>    return preferred_forms_check(text, redundancies, err, msg)

### DOC[2] (IRRELEVANT) leetcode/leetcode_1735.txt
> MOD = 109 + 7<br>    """You are given a 2D integer array, `queries`. For each `queries[i]`, where `queries[i] = [ni, ki]`, find the number of different ways you can place positive integers into an array of size `ni` such that the product of the integers is `ki`. As the number of ways may be too large, the answer to the `ith` query is the number of ways modulo `109 + 7`.<br><br>Return _an integer array_ `answer` _where_ `answer.length == queries.length`_, and_ `answer[i]` _is the answer to the_ `ith` _query._<br><br>Example 1:<br><br>Input: queries = \[\[2,6\],\[5,1\],\[73,660\]\]<br>Output: \[4,1,50734910\]<br>Explanation: Each query is independent.<br>\[2,6\]: There are 4 ways to fill an array of size 2 that multiply to 6: \[1,6\], \[2,3\], \[3,2\], \[6,1\].<br>\[5,1\]: There is 1 way to fill an array of size 5 that multiply to 1: \[1,1,1,1,1\].<br>\[73,660\]: There are 1050734917 ways to fill an array of size 73 that multiply to 660. 1050734917 modulo 109 + 7 = 50734910.<br><br>Example 2:<br><br>Input: queries = \[\[1,1\],\[2,2\],\[3,3\],\[4,4\],\[5,5\]\]<br>Output: \[1,2,3,10,5\]<br><br>Constraints:<br><br>   `1 <= queries.length <= 104`<br>   `1 <= ni, ki <= 104`"""<br><br><br>def mul(a, b):<br>    return (a  b) % MOD<br><br>def ways(n, k, mem):<br>    if n == 1:<br>        return k<br>    if (n_tuple := (n, k)) in mem:<br>        return mem[n_tuple]<br>    if k == 1:<br>        mem[n_tuple] = 1<br>        return 1<br>    if n  k:<br>        mem[n_tuple] = 0<br>        return 0<br>    res = mul(ways(n, k - 1, mem), n)<br>    res = (res - mul(n - 1, ways(n - 1, k - 1, mem)) + MOD) % MOD<br>    mem[n_tuple] = res<br>    return res<br><br>def waysToFillArray(queries):<br>    mem = {}<br>    ans = []<br>    for q in queries:<br>        ans.append(ways(q[0], q[1], mem))<br>    return ans

### DOC[3] (IRRELEVANT) leetcode/leetcode_2151.txt
> from collections import defaultdict, deque<br>    """There are two types of persons:<br><br>   The good person: The person who always tells the truth.<br>   The bad person: The person who might tell the truth and might lie.<br><br>You are given a 0-indexed 2D integer array `statements` of size `n x n` that represents the statements made by `n` people about each other. More specifically, `statements[i][j]` could be one of the following:<br><br>   `0` which represents a statement made by person `i` that person `j` is a bad person.<br>   `1` which represents a statement made by person `i` that person `j` is a good person.<br>   `2` represents that no statement is made by person `i` about person `j`.<br><br>Additionally, no person ever makes a statement about themselves. Formally, we have that `statements[i][i] = 2` for all `0 <= i < n`.<br><br>Return _the maximum number of people who can be good based on the statements made by the_ `n` _people_.<br><br>Example 1:<br><br>Input: statements = \[\[2,1,2\],\[1,2,2\],\[2,0,2\]\]<br>Output: 2<br>Explanation: Each person makes a single statement.<br>- Person 0 states that person 1 is good.<br>- Person 1 states that person 0 is good.<br>- Person 2 states that person 1 is bad.<br>Let's take person 2 as the key.<br>- Assuming that person 2 is a good person:<br>    - Based on the statement made by person 2, person 1 is a bad person.<br>    - Now we know for sure that person 1 is bad and person 2 is good.<br>    - Based on the statement made by person 1, and since person 1 is bad, they could be:<br>        - telling the truth. There will be a contradiction in this case and this assumption is invalid.<br>        - lying. In this case, person 0 is also a bad person and lied in their statement.<br>    - Following that person 2 is a good person, there will be only one good person in the group.<br>- Assuming that person 2 is a bad person:<br>    - Based on the statement made by person 2, and since person 2 is bad, they could be:<br>        - telling the truth. Following this scenario, person 0 and 1 are both bad as explained before.<br>            - Following that person 2 is bad but told the truth, there will be no good persons in the group.<br>        - lying. In this case person 1 is a good person.<br>            - Since person 1 is a good person, person 0 is also a good person.<br>            - Following that person 2 is bad and lied, there will be two good persons in the group.<br>We can see that at most 2 persons are good in the best case, so we return 2.<br>Note that there is more than one way to arrive at this conclusion.<br><br>Example 2:<br><br>Input: statements = \[\[2,0\],\[0,2\]\]<br>Output: 1<br>Explanation: Each person makes a single statement.<br>- Person 0 states that person 1 is bad.<br>- Person 1 states that person 0 is bad.<br>Let's take person 0 as the key.<br>- Assuming that person 0 is a good person:<br>    - Based on the statement made by person 0, person 1 is a bad person and was lying.<br>    - Following that person 0 is a good person, there will be only one good person in the group.<br>- Assuming that person 0 is a bad person:<br>    - Based on the statement made by person 0, and since person 0 is bad, they could be:<br>        - telling the truth. Following this scenario, person 0 and 1 are both bad.<br>            - Following that person 0 is bad but told the truth, there will be no good persons in the group.<br>        - lying. In this case person 1 is a good person.<br>            - Following that person 0 is bad and lied, there will be only one good person in the group.<br>We can see that at most, one person is good in the best case, so we return 1.<br>Note that there is more than one way to arrive at this conclusion.<br><br>Constraints:<br><br>   `n == statements.length == statements[i].length`<br>   `2 <= n <= 15`<br>   `statements[i][j]` is either `0`, `1`, or `2`.<br>   `statements[i][i] == 2`"""<br><br><br>def network_becomes_idle(edges, patience):<br>    n = len(patience)<br>    graph = defaultdict(list)<br>    <br>    for edge in edges:<br>        graph[edge[0]].append(edge[1])<br>        graph[edge[1]].append(edge[0])<br><br>    dist = [-1]  n<br>    dist[0] = 0<br>    q = deque([0])<br>    <br>    while q:<br>        node = q.popleft()<br>        <br>        for neighbor in graph[node]:<br>            if dist[neighbor] == -1:<br>                dist[neighbor] = dist[node] + 1<br>                q.append(neighbor)<br><br>    max_time = 0<br>    for i in range(1, n):<br>        time = ((2  dist[i] - 1) // patience[i])  patience[i] + 2  dist[i]<br>        max_time = max(max_time, time)<br>    <br>    return max_time + 1

### DOC[4] (IRRELEVANT) leetcode/leetcode_1944.txt
> def truncate_sentence(s, k):<br>    """There are `n` people standing in a queue, and they numbered from `0` to `n - 1` in left to right order. You are given an array `heights` of distinct integers where `heights[i]` represents the height of the `ith` person.<br><br>A person can see another person to their right in the queue if everybody in between is shorter than both of them. More formally, the `ith` person can see the `jth` person if `i < j` and `min(heights[i], heights[j])  max(heights[i+1], heights[i+2], ..., heights[j-1])`.<br><br>Return _an array_ `answer` _of length_ `n` _where_ `answer[i]` _is the number of people the_ `ith` _person can see to their right in the queue_.<br><br>Example 1:<br><br>Input: heights = \[10,6,8,5,11,9\]<br>Output: \[3,1,2,1,1,0\]<br>Explanation:<br>Person 0 can see person 1, 2, and 4.<br>Person 1 can see person 2.<br>Person 2 can see person 3 and 4.<br>Person 3 can see person 4.<br>Person 4 can see person 5.<br>Person 5 can see no one since nobody is to the right of them.<br><br>Example 2:<br><br>Input: heights = \[5,1,2,3,10\]<br>Output: \[4,1,1,1,0\]<br><br>Constraints:<br><br>   `n == heights.length`<br>   `1 <= n <= 105`<br>   `1 <= heights[i] <= 105`<br>   All the values of `heights` are unique."""<br><br>    words = s.split(' ')<br>    return ' '.join(words[:k])

### DOC[5] (IRRELEVANT) leetcode/leetcode_2149.txt
> def solve_puzzle(colors: str) - bool:<br>    """You are given a 0-indexed integer array `nums` of even length consisting of an equal number of positive and negative integers.<br><br>You should rearrange the elements of `nums` such that the modified array follows the given conditions:<br><br>1.  Every consecutive pair of integers have opposite signs.<br>2.  For all integers with the same sign, the order in which they were present in `nums` is preserved.<br>3.  The rearranged array begins with a positive integer.<br><br>Return _the modified array after rearranging the elements to satisfy the aforementioned conditions_.<br><br>Example 1:<br><br>Input: nums = \[3,1,-2,-5,2,-4\]<br>Output: \[3,-2,1,-5,2,-4\]<br>Explanation:<br>The positive integers in nums are \[3,1,2\]. The negative integers are \[-2,-5,-4\].<br>The only possible way to rearrange them such that they satisfy all conditions is \[3,-2,1,-5,2,-4\].<br>Other ways such as \[1,-2,2,-5,3,-4\], \[3,1,2,-2,-5,-4\], \[-2,3,-5,1,-4,2\] are incorrect because they do not satisfy one or more conditions.  <br><br>Example 2:<br><br>Input: nums = \[-1,1\]<br>Output: \[1,-1\]<br>Explanation:<br>1 is the only positive integer and -1 the only negative integer in nums.<br>So nums is rearranged to \[1,-1\].<br><br>Constraints:<br><br>   `2 <= nums.length <= 2  105`<br>   `nums.length` is even<br>   `1 <= |nums[i]| <= 105`<br>   `nums` consists of equal number of positive and negative integers."""<br><br>    return colors.count('A') % 2 == 1


## Ground Truth

### GROUND TRUTH 0, ranked not in top 100, leetcode/leetcode_315.txt
> def countSmaller(nums):<br>    """Given an integer array `nums`, return _an integer array_ `counts` _where_ `counts[i]` _is the number of smaller elements to the right of_ `nums[i]`.<br><br>Example 1:<br><br>Input: nums = \[5,2,6,1\]<br>Output: \[2,1,1,0\]<br>Explanation:<br>To the right of 5 there are 2 smaller elements (2 and 1).<br>To the right of 2 there is only 1 smaller element (1).<br>To the right of 6 there is 1 smaller element (1).<br>To the right of 1 there is 0 smaller element.<br><br>Example 2:<br><br>Input: nums = \[-1\]<br>Output: \[0\]<br><br>Example 3:<br><br>Input: nums = \[-1,-1\]<br>Output: \[0,0\]<br><br>Constraints:<br><br>   `1 <= nums.length <= 105`<br>   `-104 <= nums[i] <= 104`"""<br><br>    def merge_sort(indices):<br>        if len(indices) <= 1:<br>            return indices<br>        mid = len(indices) // 2<br>        left = merge_sort(indices[:mid])<br>        right = merge_sort(indices[mid:])<br>        return merge(left, right)<br><br>    def merge(left, right):<br>        merged, count = [], 0<br>        while left and right:<br>            if nums[left[0]] <= nums[right[0]]:<br>                counts[left[0]] += count<br>                merged.append(left.pop(0))<br>            else:<br>                count += len(left)<br>                merged.append(right.pop(0))<br>        for i in left:<br>            counts[i] += count<br>        return merged + left + right<br><br>    counts = [0]  len(nums)<br>    merge_sort(list(range(len(nums))))<br>    return counts

### GROUND TRUTH 1, ranked not in top 100, leetcode/leetcode_2512.txt
> def top_k_students(positive_feedback, negative_feedback, report, student_id, k):<br>    """You are given two string arrays `positive_feedback` and `negative_feedback`, containing the words denoting positive and negative feedback, respectively. Note that no word is both positive and negative.<br><br>Initially every student has `0` points. Each positive word in a feedback report increases the points of a student by `3`, whereas each negative word decreases the points by `1`.<br><br>You are given `n` feedback reports, represented by a 0-indexed string array `report` and a 0-indexed integer array `student_id`, where `student_id[i]` represents the ID of the student who has received the feedback report `report[i]`. The ID of each student is unique.<br><br>Given an integer `k`, return _the top_ `k` _students after ranking them in non-increasing order by their points_. In case more than one student has the same points, the one with the lower ID ranks higher.<br><br>Example 1:<br><br>Input: positive\_feedback = \[ "smart ", "brilliant ", "studious "\], negative\_feedback = \[ "not "\], report = \[ "this student is studious ", "the student is smart "\], student\_id = \[1,2\], k = 2<br>Output: \[1,2\]<br>Explanation: <br>Both the students have 1 positive feedback and 3 points but since student 1 has a lower ID he ranks higher.<br><br>Example 2:<br><br>Input: positive\_feedback = \[ "smart ", "brilliant ", "studious "\], negative\_feedback = \[ "not "\], report = \[ "this student is not studious ", "the student is smart "\], student\_id = \[1,2\], k = 2<br>Output: \[2,1\]<br>Explanation: <br>- The student with ID 1 has 1 positive feedback and 1 negative feedback, so he has 3-1=2 points. <br>- The student with ID 2 has 1 positive feedback, so he has 3 points. <br>Since student 2 has more points, \[2,1\] is returned.<br><br>Constraints:<br><br>   `1 <= positive_feedback.length, negative_feedback.length <= 104`<br>   `1 <= positive_feedback[i].length, negative_feedback[j].length <= 100`<br>   Both `positive_feedback[i]` and `negative_feedback[j]` consists of lowercase English letters.<br>   No word is present in both `positive_feedback` and `negative_feedback`.<br>   `n == report.length == student_id.length`<br>   `1 <= n <= 104`<br>   `report[i]` consists of lowercase English letters and spaces `' '`.<br>   There is a single space between consecutive words of `report[i]`.<br>   `1 <= report[i].length <= 100`<br>   `1 <= student_id[i] <= 109`<br>   All the values of `student_id[i]` are unique.<br>   `1 <= k <= n`"""<br><br>    points = {}<br>    for i in range(len(report)):<br>        pos_count, neg_count = 0, 0<br>        for pos in positive_feedback:<br>            pos_index = report[i].find(pos)<br>            while pos_index != -1:<br>                pos_count += 1<br>                pos_index = report[i].find(pos, pos_index + len(pos))<br>        for neg in negative_feedback:<br>            neg_index = report[i].find(neg)<br>            while neg_index != -1:<br>                neg_count += 1<br>                neg_index = report[i].find(neg, neg_index + len(neg))<br>        <br>        points[student_id[i]] = points.get(student_id[i], 0) + 3  pos_count - neg_count<br><br>    students = sorted(student_id, key=lambda x: (-points[x], x))<br>    return students[:k]
